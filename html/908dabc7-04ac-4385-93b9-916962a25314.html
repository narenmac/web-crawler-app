<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Chat Client API :: Spring AI Reference</title>
  <link rel="prev" href="../getting-started.html">
  <link rel="next" href="advisors.html">
  <meta name="generator" content="Antora 3.2.0-alpha.6">
  <script>
!function (theme, navWidth) {
  if (theme === 'dark') document.documentElement.classList.add('dark-theme')
  if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'),
  localStorage && localStorage.getItem('nav-width'))
    </script>
  <link rel="stylesheet" href="../../_/css/site.css">
  <link rel="stylesheet" href="../../_/css/vendor/search.css">
  <link rel="stylesheet" href="../../_/css/vendor/page-search.css">
  <link rel="stylesheet" href="../../_/css/vendor/asciidoctor-tabs.css">
  <meta name="antora-ui-version" content="v0.4.17">
  <meta name="version" content="1.0.0-M7">
  <meta name="component" content="ai">
  <meta name="latest-version" content="false">
  <link rel="icon" href="../../_/img/favicon.ico" type="image/vnd.microsoft.icon">
 </head>
 <body class="article">
  <header class="header">
   <nav class="navbar">
    <div class="navbar-brand">
     <a class="navbar-item" href="https://spring.io"> <img id="springlogo" class="block" src="../../_/img/spring-logo.svg" alt="Spring"> </a> <button class="navbar-burger" data-target="topbar-nav"> <span></span> <span></span> <span></span> </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
     <div class="navbar-end">
      <div class="navbar-item has-dropdown is-hoverable">
       <a class="navbar-link" href="#">Why Spring</a>
       <div class="navbar-dropdown">
        <a class="navbar-item" href="https://spring.io/why-spring">Overview</a> <a class="navbar-item" href="https://spring.io/microservices">Microservices</a> <a class="navbar-item" href="https://spring.io/reactive">Reactive</a> <a class="navbar-item" href="https://spring.io/event-driven">Event Driven</a> <a class="navbar-item" href="https://spring.io/cloud">Cloud</a> <a class="navbar-item" href="https://spring.io/web-applications">Web Applications</a> <a class="navbar-item" href="https://spring.io/serverless">Serverless</a> <a class="navbar-item" href="https://spring.io/batch">Batch</a>
       </div>
      </div>
      <div class="navbar-item has-dropdown is-hoverable">
       <a class="navbar-link" href="#">Learn</a>
       <div class="navbar-dropdown">
        <a class="navbar-item" href="https://spring.io/learn">Overview</a> <a class="navbar-item" href="https://spring.io/quickstart">Quickstart</a> <a class="navbar-item" href="https://spring.io/guides">Guides</a> <a class="navbar-item" href="https://spring.io/blog">Blog</a>
       </div>
      </div>
      <div class="navbar-item has-dropdown is-hoverable">
       <a class="navbar-link" href="#">Projects</a>
       <div class="navbar-dropdown" style="min-width: 280px">
        <a class="navbar-item" href="https://spring.io/projects">Overview</a> <a class="navbar-item" href="https://spring.io/projects/spring-boot">Spring Boot</a> <a class="navbar-item" href="https://spring.io/projects/spring-framework">Spring Framework</a> <a class="navbar-item" href="https://spring.io/projects/spring-cloud">Spring Cloud</a> <a class="navbar-item" href="https://spring.io/projects/spring-cloud-dataflow">Spring Cloud Data Flow</a> <a class="navbar-item" href="https://spring.io/projects/spring-data">Spring Data</a> <a class="navbar-item" href="https://spring.io/projects/spring-integration">Spring Integration</a> <a class="navbar-item" href="https://spring.io/projects/spring-batch">Spring Batch</a> <a class="navbar-item" href="https://spring.io/projects/spring-security">Spring Security</a> <a class="navbar-item navbar-item-special" href="https://spring.io/projects">View all projects</a>
        <li class="navbar-item navbar-item-special-3">DEVELOPMENT TOOLS</li><a class="navbar-item" href="https://spring.io/tools">Spring Tools 4</a> <a class="navbar-item navbar-item-special-2" href="https://start.spring.io">Spring Initializr 
         <svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
          <polyline points="15 10.94 15 15 1 15 1 1 5.06 1" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2"></polyline><polyline points="8.93 1 15 1 15 7.07" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2"></polyline><line x1="15" y1="1" x2="8" y2="8" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2" />
         </svg></a>
       </div>
      </div>
      <div class="navbar-item has-dropdown is-hoverable">
       <a class="navbar-link" href="#">Academy</a>
       <div class="navbar-dropdown">
        <a class="navbar-item" href="https://spring.academy/courses">Courses</a> <a class="navbar-item" href="https://spring.academy/learning-path">Get Certified</a>
       </div>
      </div>
      <div class="navbar-item has-dropdown is-hoverable">
       <a class="navbar-link" href="#">Solutions</a>
       <div class="navbar-dropdown lg">
        <a class="navbar-item" href="https://spring.io/solutions">Overview</a> <a class="navbar-item" href="https://spring.io/support">Spring Runtime</a> <a class="navbar-item" href="https://spring.io/consulting">Spring Consulting</a> <a class="navbar-item" href="https://spring.academy/teams">Spring Academy For Teams</a> <a class="navbar-item" href="https://spring.io/security">Security Advisories</a>
       </div>
      </div>
      <div class="navbar-item has-dropdown is-hoverable is-community">
       <a class="navbar-link" href="#">Community</a>
       <div class="navbar-dropdown">
        <a class="navbar-item" href="https://spring.io/community">Overview</a> <a class="navbar-item" href="https://spring.io/events">Events</a> <a class="navbar-item" href="https://spring.io/team">Team</a>
       </div>
      </div>
     </div>
    </div><label class="theme-toggler"> <input type="checkbox" id="switch-theme-checkbox" name="switch-theme-checkbox"> <span class="icon">
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="moon" class="svg-inline--fa fa-moon moon" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
       <path fill="currentColor" d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z" />
      </svg>
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="sun" class="svg-inline--fa fa-sun sun" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
       <path fill="currentColor" d="M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z" />
      </svg></span> <span class="text">light</span> </label>
   </nav>
  </header>
  <script>
!function (theme) {
  if (theme === 'dark') {
    document.getElementById('switch-theme-checkbox').parentElement.classList.add('active')
  }
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'))
</script>
  <div class="body">
   <div class="nav-container" data-component="ai" data-version="1.0.0-M7">
    <aside class="nav">
     <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
       <nav class="nav-menu">
        <div class="context">
         <span class="title">Spring AI</span> <span class="version">1.0.0-M7</span> <button class="browse-version" id="browse-version">
          <svg height="24px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="24px" xml:space="preserve">
           <g>
            <path d="M256,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S273.7,224,256,224L256,224z" />
            <path d="M128.4,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S146,224,128.4,224L128.4,224z" />
            <path d="M384,224c-17.7,0-32,14.3-32,32s14.3,32,32,32s32-14.3,32-32S401.7,224,384,224L384,224z" />
           </g>
          </svg></button>
         <div class="search">
          <button class="DocSearch-Button search-button">
           <svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <path d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z" id="XMLID_223_" />
           </svg><span>Search</span> <span class="search-key"></span> </button>
         </div>
        </div>
        <ul class="nav-list">
         <li class="nav-item" data-depth="0">
          <ul class="nav-list">
           <li class="nav-item" data-depth="1"><button class="nav-item-toggle"></button> <a class="nav-link" href="../index.html">Overview</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="../concepts.html">AI Concepts</a></li>
            </ul></li>
           <li class="nav-item" data-depth="1"><a class="nav-link" href="../getting-started.html">Getting Started</a></li>
           <li class="nav-item is-current-page" data-depth="1"><button class="nav-item-toggle"></button> <a class="nav-link" href="chatclient.html">Chat Client API</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="advisors.html">Advisors</a></li>
            </ul></li>
           <li class="nav-item" data-depth="1"><button class="nav-item-toggle"></button> <a class="nav-link" href="index.html">AI Models</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><button class="nav-item-toggle"></button> <a class="nav-link" href="chatmodel.html">Chat Models</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/comparison.html">Chat Models Comparison</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/bedrock-converse.html">Amazon Bedrock Converse</a></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="chat/anthropic-chat.html">Anthropic 3</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="chat/functions/anthropic-chat-functions.html">Anthropic Function Calling (Deprecated)</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="chat/azure-openai-chat.html">Azure OpenAI</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="chat/functions/azure-open-ai-chat-functions.html">Azure OpenAI Function Calling</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/deepseek-chat.html">DeepSeek AI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/dmr-chat.html">Docker Model Runner</a></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="chat/google-vertexai.html">Google VertexAI</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="chat/vertexai-gemini-chat.html">VertexAI Gemini</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/groq-chat.html">Groq</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/huggingface.html">Hugging Face</a></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="chat/mistralai-chat.html">Mistral AI</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="chat/functions/mistralai-chat-functions.html">Mistral Function Calling (Deprecated)</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="chat/minimax-chat.html">MiniMax</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="chat/functions/minimax-chat-functions.html">MinmaxFunction Calling</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/moonshot-chat.html">Moonshot AI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/nvidia-chat.html">NVIDIA</a></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="chat/ollama-chat.html">Ollama</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="chat/functions/ollama-chat-functions.html">Ollama Function Calling (Deprecated)</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/perplexity-chat.html">Perplexity AI</a></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <span class="nav-text">OCI Generative AI</span>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="chat/oci-genai/cohere-chat.html">Cohere</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="chat/openai-chat.html">OpenAI</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="chat/functions/openai-chat-functions.html">OpenAI Function Calling (Deprecated)</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/qianfan-chat.html">QianFan</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/zhipuai-chat.html">ZhiPu AI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="chat/watsonx-ai-chat.html">watsonx.AI</a></li>
              </ul></li>
             <li class="nav-item" data-depth="2"><button class="nav-item-toggle"></button> <a class="nav-link" href="embeddings.html">Embedding Models</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="bedrock.html">Amazon Bedrock</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="embeddings/bedrock-cohere-embedding.html">Cohere</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="embeddings/bedrock-titan-embedding.html">Titan</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/azure-openai-embeddings.html">Azure OpenAI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/mistralai-embeddings.html">Mistral AI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/minimax-embeddings.html">MiniMax</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/oci-genai-embeddings.html">OCI GenAI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/ollama-embeddings.html">Ollama</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/onnx.html">(ONNX) Transformers</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/openai-embeddings.html">OpenAI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/postgresml-embeddings.html">PostgresML</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/qianfan-embeddings.html">QianFan</a></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <span class="nav-text">VertexAI</span>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="embeddings/vertexai-embeddings-text.html">Text Embedding</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="embeddings/vertexai-embeddings-multimodal.html">Multimodal Embedding</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/watsonx-ai-embeddings.html">watsonx.AI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="embeddings/zhipuai-embeddings.html">ZhiPu AI</a></li>
              </ul></li>
             <li class="nav-item" data-depth="2"><button class="nav-item-toggle"></button> <a class="nav-link" href="imageclient.html">Image Models</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="image/azure-openai-image.html">Azure OpenAI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="image/openai-image.html">OpenAI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="image/stabilityai-image.html">Stability</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="image/zhipuai-image.html">ZhiPuAI</a></li>
               <li class="nav-item" data-depth="3"><a class="nav-link" href="image/qianfan-image.html">QianFan</a></li>
              </ul></li>
             <li class="nav-item" data-depth="2"><button class="nav-item-toggle"></button> <a class="nav-link" href="#api/audio">Audio Models</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="audio/transcriptions.html">Transcription API</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="audio/transcriptions/azure-openai-transcriptions.html">Azure OpenAI</a></li>
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="audio/transcriptions/openai-transcriptions.html">OpenAI</a></li>
                </ul></li>
               <li class="nav-item" data-depth="3"><button class="nav-item-toggle"></button> <a class="nav-link" href="audio/speech.html">Text-To-Speech (TTS) API</a>
                <ul class="nav-list">
                 <li class="nav-item" data-depth="4"><a class="nav-link" href="audio/speech/openai-speech.html">OpenAI</a></li>
                </ul></li>
              </ul></li>
             <li class="nav-item" data-depth="2"><button class="nav-item-toggle"></button> <a class="nav-link" href="#api/moderation">Moderation Models</a>
              <ul class="nav-list">
               <li class="nav-item" data-depth="3"><a class="nav-link" href="moderation/openai-moderation.html">OpenAI</a></li>
              </ul></li>
            </ul></li>
           <li class="nav-item" data-depth="1"><button class="nav-item-toggle"></button> <a class="nav-link" href="vectordbs.html">Vector Databases</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/azure.html">Azure AI Service</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/azure-cosmos-db.html">Azure Cosmos DB</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/apache-cassandra.html">Apache Cassandra Vector Store</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/chroma.html">Chroma</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/couchbase.html">Couchbase</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/elasticsearch.html">Elasticsearch</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/gemfire.html">GemFire</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/mariadb.html">MariaDB Vector Store</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/milvus.html">Milvus</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/mongodb.html">MongoDB Atlas</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/neo4j.html">Neo4j</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/opensearch.html">OpenSearch</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/oracle.html">Oracle</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/pgvector.html">PGvector</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/pinecone.html">Pinecone</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/qdrant.html">Qdrant</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/redis.html">Redis</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/hana.html">SAP Hana</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/typesense.html">Typesense</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="vectordbs/weaviate.html">Weaviate</a></li>
            </ul></li>
           <li class="nav-item" data-depth="1"><button class="nav-item-toggle"></button> <a class="nav-link" href="retrieval-augmented-generation.html">Retrieval Augmented Generation (RAG)</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="etl-pipeline.html">ETL Pipeline</a></li>
            </ul></li>
           <li class="nav-item" data-depth="1"><a class="nav-link" href="structured-output-converter.html">Structured Output</a></li>
           <li class="nav-item" data-depth="1"><button class="nav-item-toggle"></button> <a class="nav-link" href="tools.html">Tool Calling</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="tools-migration.html">Migrating to ToolCallback API</a></li>
            </ul></li>
           <li class="nav-item" data-depth="1"><button class="nav-item-toggle"></button> <a class="nav-link" href="mcp/mcp-overview.html">Model Context Protocol (MCP)</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="mcp/mcp-client-boot-starter-docs.html">MCP Client Boot Starters</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="mcp/mcp-server-boot-starter-docs.html">MCP Server Boot Starters</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="mcp/mcp-helpers.html">MCP Utilities</a></li>
            </ul></li>
           <li class="nav-item" data-depth="1"><a class="nav-link" href="multimodality.html">Multimodality</a></li>
           <li class="nav-item" data-depth="1"><a class="nav-link" href="../observability/index.html">Observability</a></li>
           <li class="nav-item" data-depth="1"><a class="nav-link" href="prompt.html">Prompts</a></li>
           <li class="nav-item" data-depth="1"><a class="nav-link" href="testing.html">AI Model Evaluation</a></li>
           <li class="nav-item" data-depth="1"><button class="nav-item-toggle"></button> <a class="nav-link" href="functions.html">Function Calling (Deprecated)</a>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="function-callback.html">FunctionCallback API (Deprecated)</a></li>
            </ul></li>
           <li class="nav-item" data-depth="1"><button class="nav-item-toggle"></button> <span class="nav-text">Service Connections</span>
            <ul class="nav-list">
             <li class="nav-item" data-depth="2"><a class="nav-link" href="docker-compose.html">Docker Compose</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="testcontainers.html">Testcontainers</a></li>
             <li class="nav-item" data-depth="2"><a class="nav-link" href="cloud-bindings.html">Cloud Bindings</a></li>
            </ul></li>
           <li class="nav-item" data-depth="1"><a class="nav-link" href="../contribution-guidelines.html">Contribution Guidelines</a></li>
           <li class="nav-item" data-depth="1"><a class="nav-link" href="../upgrade-notes.html">Upgrade Notes</a></li>
          </ul></li>
        </ul>
        <div class="toggle-sm">
         <button id="nav-toggle-2" class="nav-toggle"></button>
        </div>
       </nav>
      </div>
      <div class="nav-collapse">
       <button id="nav-collapse-toggle"><span></span></button>
      </div>
     </div>
     <div class="nav-resize"></div>
    </aside>
   </div>
   <script>
!function (sidebar) {
  if (sidebar) {
    document.body.classList.add('nav-sm')
  }
}(localStorage && localStorage.getItem('sidebar') === 'close')
</script>
   <main class="article">
    <div class="toolbar" role="navigation">
     <button id="nav-toggle-1" class="nav-toggle"></button>
     <div class="search">
      <button class="DocSearch-Button search-button">
       <svg enable-background="new 0 0 32 32" id="Glyph" version="1.1" viewBox="0 0 32 32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <path d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z" id="XMLID_223_" />
       </svg><span>Search</span> <span class="search-key"></span> </button>
     </div>
    </div>
    <div class="content">
     <aside class="sidebar">
      <div class="content">
       <div class="toc" data-title="Chat Client API" data-levels="2">
        <div class="toc-menu"></div>
       </div>
       <div class="sidebar-links">
        <a href="https://github.com/spring-projects/spring-ai/blob/v1.0.0-M7/spring-ai-docs/src/main/antora/modules/ROOT/pages/api/chatclient.adoc">
         <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
          <path d="m16 2.012 3 3L16.713 7.3l-3-3zM4 14v3h3l8.299-8.287-3-3zm0 6h16v2H4z" />
         </svg> Edit this Page </a> <a href="https://github.com/spring-projects/spring-ai" title="GitHub">
         <svg xmlns="http://www.w3.org/2000/svg" height="512px" id="Layer_1" version="1.1" viewBox="0 0 512 512" width="512px">
          <style type="text/css"><![CDATA[
              .st0{fill-rule:evenodd;clip-rule:evenodd;} ]]>
          </style><g>
           <path class="st0" d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z" />
          </g>
         </svg> GitHub Project </a> <a href="https://stackoverflow.com/questions/tagged/spring">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
          <path d="M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z" />
         </svg> Stack Overflow </a>
       </div>
      </div>
     </aside>
     <article class="doc">
      <div class="breadcrumbs-container">
       <nav class="breadcrumbs" aria-label="breadcrumbs">
        <ul>
         <li><a href="../index.html">Spring AI</a></li>
         <li><a href="chatclient.html">Chat Client API</a></li>
        </ul>
       </nav>
      </div>
      <div class="admonitionblock important latest">
       <table>
        <tbody>
         <tr>
          <td class="icon"><i class="fa icon-important" title="Important"></i></td>
          <td class="content">
           <div class="paragraph">
            <p>This version is still in development and is not considered stable yet. For the latest snapshot version, please use <a href="../../api/chatclient.html">Spring AI 1.0.0-SNAPSHOT</a>!</p>
           </div></td>
         </tr>
        </tbody>
       </table>
      </div>
      <h1 id="page-title" class="page">Chat Client API</h1>
      <div id="preamble">
       <div class="sectionbody">
        <div class="paragraph">
         <p>The <code>ChatClient</code> offers a fluent API for communicating with an AI Model. It supports both a synchronous and streaming programming model.</p>
        </div>
        <div class="paragraph">
         <p>The fluent API has methods for building up the constituent parts of a <a href="prompt.html#_prompt" class="xref page">Prompt</a> that is passed to the AI model as input. The <code>Prompt</code> contains the instructional text to guide the AI model’s output and behavior. From the API point of view, prompts consist of a collection of messages.</p>
        </div>
        <div class="paragraph">
         <p>The AI model processes two main types of messages: user messages, which are direct inputs from the user, and system messages, which are generated by the system to guide the conversation.</p>
        </div>
        <div class="paragraph">
         <p>These messages often contain placeholders that are substituted at runtime based on user input to customize the response of the AI model to the user input.</p>
        </div>
        <div class="paragraph">
         <p>There are also Prompt options that can be specified, such as the name of the AI Model to use and the temperature setting that controls the randomness or creativity of the generated output.</p>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="_creating_a_chatclient"><a class="anchor" href="#_creating_a_chatclient"></a>Creating a ChatClient</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>The <code>ChatClient</code> is created using a <code>ChatClient.Builder</code> object. You can obtain an autoconfigured <code>ChatClient.Builder</code> instance for any <a href="chatmodel.html" class="xref page">ChatModel</a> Spring Boot autoconfiguration or create one programmatically.</p>
        </div>
        <div class="sect2">
         <h3 id="_using_an_autoconfigured_chatclient_builder"><a class="anchor" href="#_using_an_autoconfigured_chatclient_builder"></a>Using an autoconfigured ChatClient.Builder</h3>
         <div class="paragraph">
          <p>In the most simple use case, Spring AI provides Spring Boot autoconfiguration, creating a prototype <code>ChatClient.Builder</code> bean for you to inject into your class. Here is a simple example of retrieving a <code>String</code> response to a simple user request.</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@RestController
class MyController {

    private final ChatClient chatClient;

    public MyController(ChatClient.Builder chatClientBuilder) {
        this.chatClient = chatClientBuilder.build();
    }

    @GetMapping("/ai")
    String generation(String userInput) {
        return this.chatClient.prompt()
            .user(userInput)
            .call()
            .content();
    }
}</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>In this simple example, the user input sets the contents of the user message. The <code>call()</code> method sends a request to the AI model, and the <code>content()</code> method returns the AI model’s response as a <code>String</code>.</p>
         </div>
        </div>
        <div class="sect2">
         <h3 id="_create_a_chatclient_programmatically"><a class="anchor" href="#_create_a_chatclient_programmatically"></a>Create a ChatClient programmatically</h3>
         <div class="paragraph">
          <p>You can disable the <code>ChatClient.Builder</code> autoconfiguration by setting the property <code>spring.ai.chat.client.enabled=false</code>. This is useful if multiple chat models are used together. Then, create a <code>ChatClient.Builder</code> instance programmatically for every <code>ChatModel</code> you need:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ChatModel myChatModel = ... // usually autowired

ChatClient.Builder builder = ChatClient.builder(this.myChatModel);

// or create a ChatClient with the default builder settings:

ChatClient chatClient = ChatClient.create(this.myChatModel);</code></pre>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="_chatclient_fluent_api"><a class="anchor" href="#_chatclient_fluent_api"></a>ChatClient Fluent API</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>The <code>ChatClient</code> fluent API allows you to create a prompt in three distinct ways using an overloaded <code>prompt</code> method to initiate the fluent API:</p>
        </div>
        <div class="ulist">
         <ul>
          <li>
           <p><code>prompt()</code>: This method with no arguments lets you start using the fluent API, allowing you to build up user, system, and other parts of the prompt.</p></li>
          <li>
           <p><code>prompt(Prompt prompt)</code>: This method accepts a <code>Prompt</code> argument, letting you pass in a <code>Prompt</code> instance that you have created using the Prompt’s non-fluent APIs.</p></li>
          <li>
           <p><code>prompt(String content)</code>: This is a convenience method similar to the previous overload. It takes the user’s text content.</p></li>
         </ul>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="_chatclient_responses"><a class="anchor" href="#_chatclient_responses"></a>ChatClient Responses</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>The <code>ChatClient</code> API offers several ways to format the response from the AI Model using the fluent API.</p>
        </div>
        <div class="sect2">
         <h3 id="_returning_a_chatresponse"><a class="anchor" href="#_returning_a_chatresponse"></a>Returning a ChatResponse</h3>
         <div class="paragraph">
          <p>The response from the AI model is a rich structure defined by the type <code><a href="chatmodel.html#ChatResponse" class="xref page">ChatResponse</a></code>. It includes metadata about how the response was generated and can also contain multiple responses, known as <a href="chatmodel.html#Generation" class="xref page">Generation</a>s, each with its own metadata. The metadata includes the number of tokens (each token is approximately 3/4 of a word) used to create the response. This information is important because hosted AI models charge based on the number of tokens used per request.</p>
         </div>
         <div class="paragraph">
          <p>An example to return the <code>ChatResponse</code> object that contains the metadata is shown below by invoking <code>chatResponse()</code> after the <code>call()</code> method.</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ChatResponse chatResponse = chatClient.prompt()
    .user("Tell me a joke")
    .call()
    .chatResponse();</code></pre>
          </div>
         </div>
        </div>
        <div class="sect2">
         <h3 id="_returning_an_entity"><a class="anchor" href="#_returning_an_entity"></a>Returning an Entity</h3>
         <div class="paragraph">
          <p>You often want to return an entity class that is mapped from the returned <code>String</code>. The <code>entity()</code> method provides this functionality.</p>
         </div>
         <div class="paragraph">
          <p>For example, given the Java record:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">record ActorFilms(String actor, List&lt;String&gt; movies) {}</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>You can easily map the AI model’s output to this record using the <code>entity()</code> method, as shown below:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ActorFilms actorFilms = chatClient.prompt()
    .user("Generate the filmography for a random actor.")
    .call()
    .entity(ActorFilms.class);</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>There is also an overloaded <code>entity</code> method with the signature <code>entity(ParameterizedTypeReference&lt;T&gt; type)</code> that lets you specify types such as generic Lists:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">List&lt;ActorFilms&gt; actorFilms = chatClient.prompt()
    .user("Generate the filmography of 5 movies for Tom Hanks and Bill Murray.")
    .call()
    .entity(new ParameterizedTypeReference&lt;List&lt;ActorFilms&gt;&gt;() {});</code></pre>
          </div>
         </div>
        </div>
        <div class="sect2">
         <h3 id="_streaming_responses"><a class="anchor" href="#_streaming_responses"></a>Streaming Responses</h3>
         <div class="paragraph">
          <p>The <code>stream()</code> method lets you get an asynchronous response as shown below:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">Flux&lt;String&gt; output = chatClient.prompt()
    .user("Tell me a joke")
    .stream()
    .content();</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>You can also stream the <code>ChatResponse</code> using the method <code>Flux&lt;ChatResponse&gt; chatResponse()</code>.</p>
         </div>
         <div class="paragraph">
          <p>In the future, we will offer a convenience method that will let you return a Java entity with the reactive <code>stream()</code> method. In the meantime, you should use the <a href="structured-output-converter.html#StructuredOutputConverter" class="xref page">Structured Output Converter</a> to convert the aggregated response explicity as shown below. This also demonstrates the use of parameters in the fluent API that will be discussed in more detail in a later section of the documentation.</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">var converter = new BeanOutputConverter&lt;&gt;(new ParameterizedTypeReference&lt;List&lt;ActorsFilms&gt;&gt;() {});

Flux&lt;String&gt; flux = this.chatClient.prompt()
    .user(u -&gt; u.text("""
                        Generate the filmography for a random actor.
                        {format}
                      """)
            .param("format", this.converter.getFormat()))
    .stream()
    .content();

String content = this.flux.collectList().block().stream().collect(Collectors.joining());

List&lt;ActorFilms&gt; actorFilms = this.converter.convert(this.content);</code></pre>
          </div>
         </div>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="_call_return_values"><a class="anchor" href="#_call_return_values"></a>call() return values</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>After specifying the <code>call()</code> method on <code>ChatClient</code>, there are a few different options for the response type.</p>
        </div>
        <div class="ulist">
         <ul>
          <li>
           <p><code>String content()</code>: returns the String content of the response</p></li>
          <li>
           <p><code>ChatResponse chatResponse()</code>: returns the <code>ChatResponse</code> object that contains multiple generations and also metadata about the response, for example how many token were used to create the response.</p></li>
          <li>
           <p><code>entity()</code> to return a Java type</p>
           <div class="ulist">
            <ul>
             <li>
              <p><code>entity(ParameterizedTypeReference&lt;T&gt; type)</code>: used to return a <code>Collection</code> of entity types.</p></li>
             <li>
              <p><code>entity(Class&lt;T&gt; type)</code>: used to return a specific entity type.</p></li>
             <li>
              <p><code>entity(StructuredOutputConverter&lt;T&gt; structuredOutputConverter)</code>: used to specify an instance of a <code>StructuredOutputConverter</code> to convert a <code>String</code> to an entity type.</p></li>
            </ul>
           </div></li>
         </ul>
        </div>
        <div class="paragraph">
         <p>You can also invoke the <code>stream()</code> method instead of <code>call()</code>.</p>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="_stream_return_values"><a class="anchor" href="#_stream_return_values"></a>stream() return values</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>After specifying the <code>stream()</code> method on <code>ChatClient</code>, there are a few options for the response type:</p>
        </div>
        <div class="ulist">
         <ul>
          <li>
           <p><code>Flux&lt;String&gt; content()</code>: Returns a <code>Flux</code> of the string being generated by the AI model.</p></li>
          <li>
           <p><code>Flux&lt;ChatResponse&gt; chatResponse()</code>: Returns a <code>Flux</code> of the <code>ChatResponse</code> object, which contains additional metadata about the response.</p></li>
         </ul>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="_using_defaults"><a class="anchor" href="#_using_defaults"></a>Using Defaults</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>Creating a <code>ChatClient</code> with a default system text in an <code>@Configuration</code> class simplifies runtime code. By setting defaults, you only need to specify the user text when calling <code>ChatClient</code>, eliminating the need to set a system text for each request in your runtime code path.</p>
        </div>
        <div class="sect2">
         <h3 id="_default_system_text"><a class="anchor" href="#_default_system_text"></a>Default System Text</h3>
         <div class="paragraph">
          <p>In the following example, we will configure the system text to always reply in a pirate’s voice. To avoid repeating the system text in runtime code, we will create a <code>ChatClient</code> instance in a <code>@Configuration</code> class.</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
class Config {

    @Bean
    ChatClient chatClient(ChatClient.Builder builder) {
        return builder.defaultSystem("You are a friendly chat bot that answers question in the voice of a Pirate")
                .build();
    }

}</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>and a <code>@RestController</code> to invoke it:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@RestController
class AIController {

	private final ChatClient chatClient;

	AIController(ChatClient chatClient) {
		this.chatClient = chatClient;
	}

	@GetMapping("/ai/simple")
	public Map&lt;String, String&gt; completion(@RequestParam(value = "message", defaultValue = "Tell me a joke") String message) {
		return Map.of("completion", this.chatClient.prompt().user(message).call().content());
	}
}</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>When calling the application endpoint via curl, the result is:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">❯ curl localhost:8080/ai/simple
{"completion":"Why did the pirate go to the comedy club? To hear some arrr-rated jokes! Arrr, matey!"}</code></pre>
          </div>
         </div>
        </div>
        <div class="sect2">
         <h3 id="_default_system_text_with_parameters"><a class="anchor" href="#_default_system_text_with_parameters"></a>Default System Text with parameters</h3>
         <div class="paragraph">
          <p>In the following example, we will use a placeholder in the system text to specify the voice of the completion at runtime instead of design time.</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Configuration
class Config {

    @Bean
    ChatClient chatClient(ChatClient.Builder builder) {
        return builder.defaultSystem("You are a friendly chat bot that answers question in the voice of a {voice}")
                .build();
    }

}</code></pre>
          </div>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@RestController
class AIController {
	private final ChatClient chatClient;

	AIController(ChatClient chatClient) {
		this.chatClient = chatClient;
	}

	@GetMapping("/ai")
	Map&lt;String, String&gt; completion(@RequestParam(value = "message", defaultValue = "Tell me a joke") String message, String voice) {
		return Map.of("completion",
				this.chatClient.prompt()
						.system(sp -&gt; sp.param("voice", voice))
						.user(message)
						.call()
						.content());
	}

}</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>When calling the application endpoint via httpie, the result is:</p>
         </div>
         <div class="listingblock bash">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-none hljs">http localhost:8080/ai voice=='Robert DeNiro'
{
    "completion": "You talkin' to me? Okay, here's a joke for ya: Why couldn't the bicycle stand up by itself? Because it was two tired! Classic, right?"
}</code></pre>
          </div>
         </div>
        </div>
        <div class="sect2">
         <h3 id="_other_defaults"><a class="anchor" href="#_other_defaults"></a>Other defaults</h3>
         <div class="paragraph">
          <p>At the <code>ChatClient.Builder</code> level, you can specify the default prompt configuration.</p>
         </div>
         <div class="ulist">
          <ul>
           <li>
            <p><code>defaultOptions(ChatOptions chatOptions)</code>: Pass in either portable options defined in the <code>ChatOptions</code> class or model-specific options such as those in <code>OpenAiChatOptions</code>. For more information on model-specific <code>ChatOptions</code> implementations, refer to the JavaDocs.</p></li>
           <li>
            <p><code>defaultFunction(String name, String description, java.util.function.Function&lt;I, O&gt; function)</code>: The <code>name</code> is used to refer to the function in user text. The <code>description</code> explains the function’s purpose and helps the AI model choose the correct function for an accurate response. The <code>function</code> argument is a Java function instance that the model will execute when necessary.</p></li>
           <li>
            <p><code>defaultFunctions(String…​ functionNames)</code>: The bean names of `java.util.Function`s defined in the application context.</p></li>
           <li>
            <p><code>defaultUser(String text)</code>, <code>defaultUser(Resource text)</code>, <code>defaultUser(Consumer&lt;UserSpec&gt; userSpecConsumer)</code>: These methods let you define the user text. The <code>Consumer&lt;UserSpec&gt;</code> allows you to use a lambda to specify the user text and any default parameters.</p></li>
           <li>
            <p><code>defaultAdvisors(Advisor…​ advisor)</code>: Advisors allow modification of the data used to create the <code>Prompt</code>. The <code>QuestionAnswerAdvisor</code> implementation enables the pattern of <code>Retrieval Augmented Generation</code> by appending the prompt with context information related to the user text.</p></li>
           <li>
            <p><code>defaultAdvisors(Consumer&lt;AdvisorSpec&gt; advisorSpecConsumer)</code>: This method allows you to define a <code>Consumer</code> to configure multiple advisors using the <code>AdvisorSpec</code>. Advisors can modify the data used to create the final <code>Prompt</code>. The <code>Consumer&lt;AdvisorSpec&gt;</code> lets you specify a lambda to add advisors, such as <code>QuestionAnswerAdvisor</code>, which supports <code>Retrieval Augmented Generation</code> by appending the prompt with relevant context information based on the user text.</p></li>
          </ul>
         </div>
         <div class="paragraph">
          <p>You can override these defaults at runtime using the corresponding methods without the <code>default</code> prefix.</p>
         </div>
         <div class="ulist">
          <ul>
           <li>
            <p><code>options(ChatOptions chatOptions)</code></p></li>
           <li>
            <p><code>function(String name, String description, java.util.function.Function&lt;I, O&gt; function)</code></p></li>
           <li>
            <p><code>functions(String…​ functionNames)</code></p></li>
           <li>
            <p><code>user(String text)</code>, <code>user(Resource text)</code>, <code>user(Consumer&lt;UserSpec&gt; userSpecConsumer)</code></p></li>
           <li>
            <p><code>advisors(Advisor…​ advisor)</code></p></li>
           <li>
            <p><code>advisors(Consumer&lt;AdvisorSpec&gt; advisorSpecConsumer)</code></p></li>
          </ul>
         </div>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="_advisors"><a class="anchor" href="#_advisors"></a>Advisors</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>The <a href="advisors.html" class="xref page">Advisors API</a> provides a flexible and powerful way to intercept, modify, and enhance AI-driven interactions in your Spring applications.</p>
        </div>
        <div class="paragraph">
         <p>A common pattern when calling an AI model with user text is to append or augment the prompt with contextual data.</p>
        </div>
        <div class="paragraph">
         <p>This contextual data can be of different types. Common types include:</p>
        </div>
        <div class="ulist">
         <ul>
          <li>
           <p><strong>Your own data</strong>: This is data the AI model hasn’t been trained on. Even if the model has seen similar data, the appended contextual data takes precedence in generating the response.</p></li>
          <li>
           <p><strong>Conversational history</strong>: The chat model’s API is stateless. If you tell the AI model your name, it won’t remember it in subsequent interactions. Conversational history must be sent with each request to ensure previous interactions are considered when generating a response.</p></li>
         </ul>
        </div>
        <div class="sect2">
         <h3 id="_advisor_configuration_in_chatclient"><a class="anchor" href="#_advisor_configuration_in_chatclient"></a>Advisor Configuration in ChatClient</h3>
         <div class="paragraph">
          <p>The ChatClient fluent API provides an <code>AdvisorSpec</code> interface for configuring advisors. This interface offers methods to add parameters, set multiple parameters at once, and add one or more advisors to the chain.</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">interface AdvisorSpec {
    AdvisorSpec param(String k, Object v);
    AdvisorSpec params(Map&lt;String, Object&gt; p);
    AdvisorSpec advisors(Advisor... advisors);
    AdvisorSpec advisors(List&lt;Advisor&gt; advisors);
}</code></pre>
          </div>
         </div>
         <div class="admonitionblock important">
          <table>
           <tbody>
            <tr>
             <td class="icon"><i class="fa icon-important" title="Important"></i></td>
             <td class="content">The order in which advisors are added to the chain is crucial, as it determines the sequence of their execution. Each advisor modifies the prompt or the context in some way, and the changes made by one advisor are passed on to the next in the chain.</td>
            </tr>
           </tbody>
          </table>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ChatClient.builder(chatModel)
    .build()
    .prompt()
    .advisors(
        new MessageChatMemoryAdvisor(chatMemory),
        new QuestionAnswerAdvisor(vectorStore)
    )
    .user(userText)
    .call()
    .content();</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>In this configuration, the <code>MessageChatMemoryAdvisor</code> will be executed first, adding the conversation history to the prompt. Then, the <code>QuestionAnswerAdvisor</code> will perform its search based on the user’s question and the added conversation history, potentially providing more relevant results.</p>
         </div>
         <div class="paragraph">
          <p><a href="retrieval-augmented-generation.html#_questionansweradvisor" class="xref page">Learn about Question Answer Advisor</a></p>
         </div>
         <div class="paragraph">
          <p>The following advisor implementations use the <code>ChatMemory</code> interface to advice the prompt with conversation history which differ in the details of how the memory is added to the prompt</p>
         </div>
         <div class="ulist">
          <ul>
           <li>
            <p><code>MessageChatMemoryAdvisor</code> : Memory is retrieved and added as a collection of messages to the prompt</p></li>
           <li>
            <p><code>PromptChatMemoryAdvisor</code> : Memory is retrieved and added into the prompt’s system text.</p></li>
           <li>
            <p><code>VectorStoreChatMemoryAdvisor</code> : The constructor <code>VectorStoreChatMemoryAdvisor(VectorStore vectorStore, String defaultConversationId, int chatHistoryWindowSize, int order)</code> This constructor allows you to:</p>
            <div class="olist arabic">
             <ol class="arabic">
              <li>
               <p>Specify the VectorStore instance used for managing and querying documents.</p></li>
              <li>
               <p>Set a default conversation ID to be used if none is provided in the context.</p></li>
              <li>
               <p>Define the window size for chat history retrieval in terms of token size.</p></li>
              <li>
               <p>Provide system text advice used for the chat advisor system.</p></li>
              <li>
               <p>Set the order of precedence for this advisor in the chain.</p></li>
             </ol>
            </div></li>
          </ul>
         </div>
         <div class="paragraph">
          <p>The <code>VectorStoreChatMemoryAdvisor.builder()</code> method lets you specify the default conversation ID, the chat history window size, and the order of the chat history to be retrieved.</p>
         </div>
         <div class="paragraph">
          <p>A sample <code>@Service</code> implementation that uses several advisors is shown below.</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java"><span class="fold-block is-hidden-folded">import static org.springframework.ai.chat.client.advisor.AbstractChatMemoryAdvisor.CHAT_MEMORY_CONVERSATION_ID_KEY;
import static org.springframework.ai.chat.client.advisor.AbstractChatMemoryAdvisor.CHAT_MEMORY_RETRIEVE_SIZE_KEY;

</span><span class="fold-block">@Service
public class CustomerSupportAssistant {

    private final ChatClient chatClient;

    public CustomerSupportAssistant(ChatClient.Builder builder, VectorStore vectorStore, ChatMemory chatMemory) {

        this.chatClient = builder
            .defaultSystem("""
                    You are a customer chat support agent of an airline named "Funnair". Respond in a friendly,
                    helpful, and joyful manner.

                    Before providing information about a booking or cancelling a booking, you MUST always
                    get the following information from the user: booking number, customer first name and last name.

                    Before changing a booking you MUST ensure it is permitted by the terms.

                    If there is a charge for the change, you MUST ask the user to consent before proceeding.
                    """)
            .defaultAdvisors(
                    new MessageChatMemoryAdvisor(chatMemory), // CHAT MEMORY
                    new QuestionAnswerAdvisor(vectorStore), // RAG
                    new SimpleLoggerAdvisor())
            .defaultFunctions("getBookingDetails", "changeBooking", "cancelBooking") // FUNCTION CALLING
            .build();
    }

    public Flux&lt;String&gt; chat(String chatId, String userMessageContent) {

        return this.chatClient.prompt()
                .user(userMessageContent)
                .advisors(a -&gt; a
                        .param(CHAT_MEMORY_CONVERSATION_ID_KEY, chatId)
                        .param(CHAT_MEMORY_RETRIEVE_SIZE_KEY, 100))
                .stream().content();
    }

}</span></code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p><a href="retrieval-augmented-generation.html#_questionansweradvisor" class="xref page">Learn about Question Answer Advisor</a></p>
         </div>
        </div>
        <div class="sect2">
         <h3 id="_retrieval_augmented_generation"><a class="anchor" href="#_retrieval_augmented_generation"></a>Retrieval Augmented Generation</h3>
         <div class="paragraph">
          <p>Refer to the <a href="retrieval-augmented-generation.html" class="xref page">Retrieval Augmented Generation</a> guide.</p>
         </div>
        </div>
        <div class="sect2">
         <h3 id="_logging"><a class="anchor" href="#_logging"></a>Logging</h3>
         <div class="paragraph">
          <p>The <code>SimpleLoggerAdvisor</code> is an advisor that logs the <code>request</code> and <code>response</code> data of the <code>ChatClient</code>. This can be useful for debugging and monitoring your AI interactions.</p>
         </div>
         <div class="admonitionblock tip">
          <table>
           <tbody>
            <tr>
             <td class="icon"><i class="fa icon-tip" title="Tip"></i></td>
             <td class="content">Spring AI supports observability for LLM and vector store interactions. Refer to the <a href="../observability/index.html" class="xref page">Observability</a> guide for more information.</td>
            </tr>
           </tbody>
          </table>
         </div>
         <div class="paragraph">
          <p>To enable logging, add the <code>SimpleLoggerAdvisor</code> to the advisor chain when creating your ChatClient. It’s recommended to add it toward the end of the chain:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ChatResponse response = ChatClient.create(chatModel).prompt()
        .advisors(new SimpleLoggerAdvisor())
        .user("Tell me a joke?")
        .call()
        .chatResponse();</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>To see the logs, set the logging level for the advisor package to <code>DEBUG</code>:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre>logging.level.org.springframework.ai.chat.client.advisor=DEBUG</pre>
          </div>
         </div>
         <div class="paragraph">
          <p>Add this to your <code>application.properties</code> or <code>application.yaml</code> file.</p>
         </div>
         <div class="paragraph">
          <p>You can customize what data from <code>AdvisedRequest</code> and <code>ChatResponse</code> is logged by using the following constructor:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">SimpleLoggerAdvisor(
    Function&lt;AdvisedRequest, String&gt; requestToString,
    Function&lt;ChatResponse, String&gt; responseToString
)</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>Example usage:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">SimpleLoggerAdvisor customLogger = new SimpleLoggerAdvisor(
    request -&gt; "Custom request: " + request.userText,
    response -&gt; "Custom response: " + response.getResult()
);</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>This allows you to tailor the logged information to your specific needs.</p>
         </div>
         <div class="admonitionblock tip">
          <table>
           <tbody>
            <tr>
             <td class="icon"><i class="fa icon-tip" title="Tip"></i></td>
             <td class="content">Be cautious about logging sensitive information in production environments.</td>
            </tr>
           </tbody>
          </table>
         </div>
        </div>
       </div>
      </div>
      <div class="sect1">
       <h2 id="_chat_memory"><a class="anchor" href="#_chat_memory"></a>Chat Memory</h2>
       <div class="sectionbody">
        <div class="paragraph">
         <p>The interface <code>ChatMemory</code> represents a storage for chat conversation history. It provides methods to add messages to a conversation, retrieve messages from a conversation, and clear the conversation history.</p>
        </div>
        <div class="paragraph">
         <p>There are currently four implementations: <code>InMemoryChatMemory</code>, <code>CassandraChatMemory</code>, <code>Neo4jChatMemory</code>, and <code>JdbcChatMemory</code>, which provide storage for chat conversation history in-memory, persisted with <code>time-to-live</code> in Cassandra, and persisted without <code>time-to-live</code> in Neo4j and Jdbc, respectively.</p>
        </div>
        <div class="sect2">
         <h3 id="_cassandrachatmemory"><a class="anchor" href="#_cassandrachatmemory"></a>CassandraChatMemory</h3>
         <div class="paragraph">
          <p>To create a <code>CassandraChatMemory</code> with <code>time-to-live</code>:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">CassandraChatMemory.create(CassandraChatMemoryConfig.builder().withTimeToLive(Duration.ofDays(1)).build());</code></pre>
          </div>
         </div>
        </div>
        <div class="sect2">
         <h3 id="_neo4jchatmemory"><a class="anchor" href="#_neo4jchatmemory"></a>Neo4jChatMemory</h3>
         <div class="paragraph">
          <p>The Neo4j chat memory supports the following configuration parameters:</p>
         </div>
         <table class="tableblock frame-all grid-all stripes-even stretch">
          <colgroup>
           <col style="width: 25%;">
           <col style="width: 62.5%;">
           <col style="width: 12.5%;">
          </colgroup>
          <thead>
           <tr>
            <th class="tableblock halign-left valign-top">Property</th>
            <th class="tableblock halign-left valign-top">Description</th>
            <th class="tableblock halign-left valign-top">Default Value</th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>spring.ai.chat.memory.neo4j.messageLabel</code></p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock">The label for the nodes that store messages</p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>Message</code></p></td>
           </tr>
           <tr>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>spring.ai.chat.memory.neo4j.sessionLabel</code></p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock">The label for the nodes that store conversation sessions</p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>Session</code></p></td>
           </tr>
           <tr>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>spring.ai.chat.memory.neo4j.toolCallLabel</code></p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock">The label for nodes that store tool calls, for example in Assistant Messages</p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>ToolCall</code></p></td>
           </tr>
           <tr>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>spring.ai.chat.memory.neo4j.metadataLabel</code></p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock">The label for the node that store a message metadata</p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>Metadata</code></p></td>
           </tr>
           <tr>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>spring.ai.chat.memory.neo4j.toolResponseLabel</code></p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock">The label for the nodes that store tool responses</p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>ToolResponse</code></p></td>
           </tr>
           <tr>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>spring.ai.chat.memory.neo4j.mediaLabel</code></p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock">The label for the nodes that store the media associated to a message</p></td>
            <td class="tableblock halign-left valign-top">
             <p class="tableblock"><code>ToolResponse</code></p></td>
           </tr>
          </tbody>
         </table>
        </div>
        <div class="sect2">
         <h3 id="_jdbcchatmemory"><a class="anchor" href="#_jdbcchatmemory"></a>JdbcChatMemory</h3>
         <div class="paragraph">
          <p>To create a <code>JdbcChatMemory</code>:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">JdbcChatMemory.create(JdbcChatMemoryConfig.builder().jdbcTemplate(jdbcTemplate).build());</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>The <code>JdbcChatMemory</code> can also be autoconfigured (given that you have the <code>JdbcTemplate</code> bean) by adding the following dependency to your project:</p>
         </div>
         <div class="paragraph">
          <p>to your Maven <code>pom.xml</code> file:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.ai&lt;/groupId&gt;
    &lt;artifactId&gt;spring-ai-starter-model-chat-memory-jdbc&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>or to your Gradle <code>build.gradle</code> file:</p>
         </div>
         <div class="listingblock">
          <div class="content">
           <pre class="highlightjs highlight"><code class="language-groovy hljs" data-lang="groovy">dependencies {
    implementation 'org.springframework.ai:spring-ai-starter-model-chat-memory-jdbc'
}</code></pre>
          </div>
         </div>
         <div class="paragraph">
          <p>The autoconfiguration will automatically create the <code>ai_chat_memory</code> table by default based on the JDBC driver. Currently, only <code>postgresql</code> and <code>mariadb</code> are supported.</p>
         </div>
         <div class="paragraph">
          <p>To disable schema initialization, set the property <code>spring.ai.chat.memory.jdbc.initialize-schema</code> to <code>false</code>.</p>
         </div>
         <div class="paragraph">
          <p>There are instances where you are using a database migration tool like Liquibase or Flyway to manage your database schema. In that case, you may disable schema initialization and just refer to <a href="https://github.com/spring-projects/spring-ai/tree/main/memory/spring-ai-model-chat-memory-jdbc/src/main/resources/org/springframework/ai/chat/memory/jdbc">these sql files</a> and add them to your migration script.</p>
         </div>
        </div>
       </div>
      </div>
      <nav class="pagination">
       <span class="prev"><a href="../getting-started.html">Getting Started</a></span> <span class="next"><a href="advisors.html">Advisors</a></span>
      </nav>
     </article>
    </div>
   </main>
   <div class="modal micromodal-slide" id="modal-versions" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
     <div class="modal__container" role="dialog" aria-modal="true">
      <main class="modal__content" id="modal-versions-content">
       <button data-micromodal-close class="modal-versions-close">
        <svg width="28px" height="28px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
         <defs>
          <style>.cls-1h{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}
          </style>
         </defs><title /><g id="cross">
          <line class="cls-1h" x1="7" x2="25" y1="7" y2="25" />
          <line class="cls-1h" x1="7" x2="25" y1="25" y2="7" />
         </g>
        </svg></button>
       <div class="colset">
        <div class="col-left">
         <ul class="nav-versions">
          <li class="component">
           <div>
            <a class="title" href="../../index.html">Spring AI</a>
           </div>
           <div class="version-item">
            <div>
             <button class="version-toggle" type="button"> <span></span> Preview </button>
            </div>
            <ul class="versions">
             <li class="version"><a href="../index.html"> 1.0.0-M7 </a></li>
            </ul>
           </div>
           <div class="version-item">
            <div>
             <button class="version-toggle" type="button"> <span></span> Snapshot </button>
            </div>
            <ul class="versions">
             <li class="version"><a href="../../index.html"> 1.0.0-SNAPSHOT </a></li>
            </ul>
           </div></li>
         </ul>
        </div>
        <div class="col-right">
         <ul class="projects">
          <li>Related Spring Documentation 
           <ul class="projects-list">
            <li><a href="https://docs.spring.io/spring-boot/"> Spring Boot </a></li>
            <li><a href="https://docs.spring.io/spring-framework/reference/"> Spring Framework </a></li>
            <li><a class="anchor"><i class="fa fa-angle-right" aria-hidden="true"></i></a> Spring Cloud 
             <ul>
              <li><a href="https://docs.spring.io/spring-cloud-build/reference/"> Spring Cloud Build </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-bus/reference/"> Spring Cloud Bus </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-circuitbreaker/reference/"> Spring Cloud Circuit Breaker </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-commons/reference/"> Spring Cloud Commons </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-config/reference/"> Spring Cloud Config </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-consul/reference/"> Spring Cloud Consul </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-contract/reference/"> Spring Cloud Contract </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-function/reference/"> Spring Cloud Function </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-gateway/reference/"> Spring Cloud Gateway </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-kubernetes/reference/"> Spring Cloud Kubernetes </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-netflix/reference/"> Spring Cloud Netflix </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-openfeign/reference/"> Spring Cloud OpenFeign </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-stream/reference/"> Spring Cloud Stream </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-task/reference/"> Spring Cloud Task </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-vault/reference/"> Spring Cloud Vault </a></li>
              <li><a href="https://docs.spring.io/spring-cloud-zookeeper/reference/"> Spring Cloud Zookeeper </a></li>
             </ul></li>
            <li><a class="anchor"><i class="fa fa-angle-right" aria-hidden="true"></i></a> Spring Data 
             <ul>
              <li><a href="https://docs.spring.io/spring-data/cassandra/reference/"> Spring Data Cassandra </a></li>
              <li><a href="https://docs.spring.io/spring-data/commons/reference/"> Spring Data Commons </a></li>
              <li><a href="https://docs.spring.io/spring-data/couchbase/reference/"> Spring Data Couchbase </a></li>
              <li><a href="https://docs.spring.io/spring-data/elasticsearch/reference/"> Spring Data Elasticsearch </a></li>
              <li><a href="https://docs.spring.io/spring-data/jpa/reference/"> Spring Data JPA </a></li>
              <li><a href="https://docs.spring.io/spring-data/keyvalue/reference/"> Spring Data KeyValue </a></li>
              <li><a href="https://docs.spring.io/spring-data/ldap/reference/"> Spring Data LDAP </a></li>
              <li><a href="https://docs.spring.io/spring-data/mongodb/reference/"> Spring Data MongoDB </a></li>
              <li><a href="https://docs.spring.io/spring-data/neo4j/reference/"> Spring Data Neo4j </a></li>
              <li><a href="https://docs.spring.io/spring-data/redis/reference/"> Spring Data Redis </a></li>
              <li><a href="https://docs.spring.io/spring-data/relational/reference/"> Spring Data JDBC &amp; R2DBC </a></li>
              <li><a href="https://docs.spring.io/spring-data/rest/reference/"> Spring Data REST </a></li>
             </ul></li>
            <li><a href="https://docs.spring.io/spring-integration/reference/"> Spring Integration </a></li>
            <li><a href="https://docs.spring.io/spring-batch/reference/"> Spring Batch </a></li>
            <li><a class="anchor"><i class="fa fa-angle-right" aria-hidden="true"></i></a> <a href="https://docs.spring.io/spring-security/reference/"> Spring Security </a>
             <ul>
              <li><a href="https://docs.spring.io/spring-authorization-server/reference/"> Spring Authorization Server </a></li>
              <li><a href="https://docs.spring.io/spring-ldap/reference/"> Spring LDAP </a></li>
              <li><a href="https://docs.spring.io/spring-security-kerberos/reference/"> Spring Security Kerberos </a></li>
              <li><a href="https://docs.spring.io/spring-session/reference/"> Spring Session </a></li>
              <li><a href="https://docs.spring.io/spring-vault/reference/"> Spring Vault </a></li>
             </ul></li>
            <li><a href="https://docs.spring.io/spring-ai/reference/"> Spring AI </a></li>
            <li><a href="https://docs.spring.io/spring-amqp/reference/"> Spring AMQP </a></li>
            <li><a href="https://docs.spring.io/spring-cli/reference/"> Spring CLI </a></li>
            <li><a href="https://docs.spring.io/spring-graphql/reference/"> Spring GraphQL </a></li>
            <li><a href="https://docs.spring.io/spring-kafka/reference/"> Spring for Apache Kafka </a></li>
            <li><a href="https://docs.spring.io/spring-modulith/reference/"> Spring Modulith </a></li>
            <li><a href="https://docs.spring.io/spring-pulsar/reference/"> Spring for Apache Pulsar </a></li>
            <li><a href="https://docs.spring.io/spring-shell/reference/"> Spring Shell </a></li>
           </ul></li>
          <li><a href="../../spring-projects.html">All Docs...</a></li>
         </ul>
        </div>
       </div>
      </main>
     </div>
    </div>
   </div>
  </div>
  <footer class="footer flex">
   <div id="spring-links flex">
    <img id="springlogo" src="../../_/img/spring-logo.svg" alt="Spring">
    <p class="smallest antialiased">Copyright © 2005 - 
     <script>var d = new Date();
        document.write(d.getFullYear());</script> Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.<br><a href="https://www.vmware.com/help/legal.html">Terms of Use</a> • <a href="https://www.vmware.com/help/privacy.html" rel="noopener noreferrer">Privacy</a> • <a href="https://spring.io/trademarks">Trademark Guidelines</a> <span id="thank-you-mobile">• <a href="https://spring.io/thank-you">Thank you</a></span> • <a href="https://www.vmware.com/help/privacy/california-privacy-rights.html">Your California Privacy Rights</a> • <a class="ot-sdk-show-settings">Cookie Settings</a> <span id="teconsent"></span></p>
    <p class="smallest antialiased has-gray-text">Apache®, Apache Tomcat®, Apache Kafka®, Apache Cassandra™, and Apache Geode™ are trademarks or registered trademarks of the Apache Software Foundation in the United States and/or other countries. Java™, Java™ SE, Java™ EE, and OpenJDK™ are trademarks of Oracle and/or its affiliates. Kubernetes® is a registered trademark of the Linux Foundation in the United States and other countries. Linux® is the registered trademark of Linus Torvalds in the United States and other countries. Windows® and Microsoft® Azure are registered trademarks of Microsoft Corporation. “AWS” and “Amazon Web Services” are trademarks or registered trademarks of Amazon.com Inc. or its affiliates. All other trademarks and copyrights are property of their respective owners and are only mentioned for informative purposes. Other names may be trademarks of their respective owners.</p>
   </div>
   <div id="social-icons" class="flex jc-between">
    <a href="https://www.youtube.com/user/SpringSourceDev" title="Youtube">
     <svg id="youtube-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40">
      <circle class="cls-1" cx="20" cy="20" r="20" /><path class="cls-2" d="M30.91,14.53a2.89,2.89,0,0,0-2-2C27.12,12,20,12,20,12s-7.12,0-8.9.47a2.9,2.9,0,0,0-2,2A30.56,30.56,0,0,0,8.63,20a30.44,30.44,0,0,0,.46,5.47,2.89,2.89,0,0,0,2,2C12.9,28,20,28,20,28s7.12,0,8.9-.47a2.87,2.87,0,0,0,2-2A30.56,30.56,0,0,0,31.37,20,28.88,28.88,0,0,0,30.91,14.53ZM17.73,23.41V16.59L23.65,20Z" />
     </svg></a> <a href="https://github.com/spring-projects" title="GitHub">
     <svg id="github-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93">
      <path class="cls-1" d="M38,0a38,38,0,1,0,38,38A38,38,0,0,0,38,0Z" /><path class="cls-2" d="M38,15.59A22.95,22.95,0,0,0,30.71,60.3c1.15.21,1.57-.5,1.57-1.11s0-2,0-3.9c-6.38,1.39-7.73-3.07-7.73-3.07A6.09,6.09,0,0,0,22,48.86c-2.09-1.42.15-1.39.15-1.39a4.81,4.81,0,0,1,3.52,2.36c2,3.5,5.37,2.49,6.67,1.91a4.87,4.87,0,0,1,1.46-3.07c-5.09-.58-10.45-2.55-10.45-11.34a8.84,8.84,0,0,1,2.36-6.15,8.29,8.29,0,0,1,.23-6.07s1.92-.62,6.3,2.35a21.82,21.82,0,0,1,11.49,0c4.38-3,6.3-2.35,6.3-2.35a8.29,8.29,0,0,1,.23,6.07,8.84,8.84,0,0,1,2.36,6.15c0,8.81-5.37,10.75-10.48,11.32a5.46,5.46,0,0,1,1.56,4.25c0,3.07,0,5.54,0,6.29s.42,1.33,1.58,1.1A22.94,22.94,0,0,0,38,15.59Z" />
     </svg></a> <a href="https://twitter.com/springcentral" title="Twitter">
     <svg id="twitter-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75.93 75.93">
      <circle class="cls-1" cx="37.97" cy="37.97" r="37.97" /><path id="Twitter-2" data-name="Twitter" class="cls-2" d="M55.2,22.73a15.43,15.43,0,0,1-4.88,1.91,7.56,7.56,0,0,0-5.61-2.49A7.78,7.78,0,0,0,37,30a7.56,7.56,0,0,0,.2,1.79,21.63,21.63,0,0,1-15.84-8.23,8,8,0,0,0,2.37,10.52,7.66,7.66,0,0,1-3.48-1v.09A7.84,7.84,0,0,0,26.45,41a7.54,7.54,0,0,1-2,.28A7.64,7.64,0,0,1,23,41.09a7.71,7.71,0,0,0,7.18,5.47,15.21,15.21,0,0,1-9.55,3.37,15.78,15.78,0,0,1-1.83-.11,21.41,21.41,0,0,0,11.78,3.54c14.13,0,21.86-12,21.86-22.42,0-.34,0-.68,0-1a15.67,15.67,0,0,0,3.83-4.08,14.9,14.9,0,0,1-4.41,1.24A7.8,7.8,0,0,0,55.2,22.73Z" />
     </svg></a>
   </div>
  </footer>
  <script src="../../_/js/vendor/import.js"></script>
  <script src="../../_/js/site.js"></script>
  <script async src="../../_/js/vendor/highlight.js"></script>
  <script async src="../../_/js/vendor/asciidoctor-tabs.js" data-sync-storage-key="docs:preferred-tab"></script>
  <div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
   <div class="modal__overlay" tabindex="-1" data-micromodal-close>
    <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
     <main class="modal__content" id="modal-1-content">
      <div id="searchbox"></div>
      <div id="counter"></div>
      <div class="search-link-box">
       <a class="search-link" href="../../search.html">Search in all Spring Docs</a>
      </div>
      <div class="search-by">
       <a target="_blank" rel="noopener noreferrer" href="https://www.algolia.com/" aria-label="Search by Algolia"> <img class="light" width="140" src="../../_/img/algolia-light.svg"> <img class="dark" width="140" src="../../_/img/algolia-dark.svg"> </a>
      </div>
      <div id="hits"></div>
     </main>
    </div>
   </div>
  </div>
  <script src="https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.17.0/dist/algoliasearch-lite.umd.js" integrity="sha256-Lf9DrpGmcRip6OQzbcL6lnvNmoZNSKpyQX5pMlwatWE=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.54.1/dist/instantsearch.production.min.js" integrity="sha256-xYsZPDeNjYNTBWLvqD2Lxe98hOxcDgOHyMPfz4tVAbk=" crossorigin="anonymous"></script>
  <script async id="search-script" src="../../_/js/vendor/search.js" data-app-id="WB1FQYI187" data-api-key="c2e84f15fa630d534f1c62b1c413bb77" data-index-name="springdocs" data-stylesheet="../../_/css/vendor/search.css" data-page-version="1.0.0-M7" data-page-component="ai"></script>
  <script>if (window.parent == window) {(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-2728886-23', 'auto', {'siteSpeedSampleRate': 100});ga('send', 'pageview');}</script>
  <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;rayId&quot;:&quot;92f3c9860e9f2e90&quot;,&quot;version&quot;:&quot;2025.3.0&quot;,&quot;serverTiming&quot;:{&quot;name&quot;:{&quot;cfExtPri&quot;:true,&quot;cfL4&quot;:true,&quot;cfSpeedBrain&quot;:true,&quot;cfCacheStatus&quot;:true}},&quot;token&quot;:&quot;bffcb8a918ae4755926f76178bfbd26b&quot;,&quot;b&quot;:1}" crossorigin="anonymous"></script>
 </body>
</html>